{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport * as React from 'react';\nimport { isSameDay } from 'date-fns';\nimport { isDayPickerMultiple } from '../../types';\nimport { SelectMultipleContext } from './SelectMultipleContext';\n/** Provides the values for the [[SelectMultipleContext]]. */\n\nexport function SelectMultipleProvider(_a) {\n  var initialProps = _a.initialProps,\n      children = _a.children;\n  var initialSelected;\n  var isMultipleMode = false;\n\n  if (isDayPickerMultiple(initialProps)) {\n    initialSelected = initialProps.defaultSelected;\n    isMultipleMode = true;\n  }\n\n  var _b = React.useState(initialSelected || undefined),\n      selectedDays = _b[0],\n      setSelectedDays = _b[1];\n\n  var handleDayClick = function (day, modifiers, e) {\n    var _a, _b;\n\n    if (!isDayPickerMultiple(initialProps)) {\n      return;\n    }\n\n    (_a = initialProps.onDayClick) === null || _a === void 0 ? void 0 : _a.call(initialProps, day, modifiers, e);\n    var isMinSelected = Boolean(initialProps.min && modifiers.selected && selectedDays && selectedDays.length === initialProps.min);\n\n    if (isMinSelected) {\n      return;\n    }\n\n    var isMaxSelected = Boolean(initialProps.max && !modifiers.selected && selectedDays && selectedDays.length === initialProps.max);\n\n    if (isMaxSelected) {\n      return;\n    }\n\n    var days = selectedDays ? __spreadArrays(selectedDays) : [];\n\n    if (modifiers.selected) {\n      var index = days.findIndex(function (selectedDay) {\n        return isSameDay(day, selectedDay);\n      });\n      days.splice(index, 1);\n    } else {\n      days.push(day);\n    }\n\n    setSelectedDays(days);\n    (_b = initialProps.onSelect) === null || _b === void 0 ? void 0 : _b.call(initialProps, days, day, modifiers, e);\n  };\n\n  var modifiers = {\n    selected: [],\n    disabled: []\n  };\n\n  if (selectedDays && isDayPickerMultiple(initialProps)) {\n    modifiers.selected = selectedDays;\n    modifiers.disabled = [function disableDay(day) {\n      var isMaxSelected = initialProps.max && selectedDays.length > initialProps.max - 1;\n      var isSelected = selectedDays.some(function (selectedDay) {\n        return isSameDay(selectedDay, day);\n      });\n      return Boolean(isMaxSelected && !isSelected);\n    }];\n  }\n\n  return React.createElement(SelectMultipleContext.Provider, {\n    value: {\n      selected: selectedDays,\n      handleDayClick: handleDayClick,\n      modifiers: modifiers,\n      isMultipleMode: isMultipleMode\n    }\n  }, children);\n}","map":{"version":3,"sources":["../../../src/contexts/SelectMultipleContext/SelectMultipleProvider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport * as React from 'react';\nimport { isSameDay } from 'date-fns';\nimport { isDayPickerMultiple } from '../../types';\nimport { SelectMultipleContext } from './SelectMultipleContext';\n/** Provides the values for the [[SelectMultipleContext]]. */\nexport function SelectMultipleProvider(_a) {\n    var initialProps = _a.initialProps, children = _a.children;\n    var initialSelected;\n    var isMultipleMode = false;\n    if (isDayPickerMultiple(initialProps)) {\n        initialSelected = initialProps.defaultSelected;\n        isMultipleMode = true;\n    }\n    var _b = React.useState(initialSelected || undefined), selectedDays = _b[0], setSelectedDays = _b[1];\n    var handleDayClick = function (day, modifiers, e) {\n        var _a, _b;\n        if (!isDayPickerMultiple(initialProps)) {\n            return;\n        }\n        (_a = initialProps.onDayClick) === null || _a === void 0 ? void 0 : _a.call(initialProps, day, modifiers, e);\n        var isMinSelected = Boolean(initialProps.min &&\n            modifiers.selected &&\n            selectedDays &&\n            selectedDays.length === initialProps.min);\n        if (isMinSelected) {\n            return;\n        }\n        var isMaxSelected = Boolean(initialProps.max &&\n            !modifiers.selected &&\n            selectedDays &&\n            selectedDays.length === initialProps.max);\n        if (isMaxSelected) {\n            return;\n        }\n        var days = selectedDays ? __spreadArrays(selectedDays) : [];\n        if (modifiers.selected) {\n            var index = days.findIndex(function (selectedDay) {\n                return isSameDay(day, selectedDay);\n            });\n            days.splice(index, 1);\n        }\n        else {\n            days.push(day);\n        }\n        setSelectedDays(days);\n        (_b = initialProps.onSelect) === null || _b === void 0 ? void 0 : _b.call(initialProps, days, day, modifiers, e);\n    };\n    var modifiers = {\n        selected: [],\n        disabled: []\n    };\n    if (selectedDays && isDayPickerMultiple(initialProps)) {\n        modifiers.selected = selectedDays;\n        modifiers.disabled = [\n            function disableDay(day) {\n                var isMaxSelected = initialProps.max && selectedDays.length > initialProps.max - 1;\n                var isSelected = selectedDays.some(function (selectedDay) {\n                    return isSameDay(selectedDay, day);\n                });\n                return Boolean(isMaxSelected && !isSelected);\n            }\n        ];\n    }\n    return (React.createElement(SelectMultipleContext.Provider, { value: {\n            selected: selectedDays,\n            handleDayClick: handleDayClick,\n            modifiers: modifiers,\n            isMultipleMode: isMultipleMode\n        } }, children));\n}\n//# sourceMappingURL=SelectMultipleProvider.js.map"]},"metadata":{},"sourceType":"module"}